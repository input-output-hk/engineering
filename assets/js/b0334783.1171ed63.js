"use strict";(self.webpackChunkengineering_iog_io=self.webpackChunkengineering_iog_io||[]).push([[8643],{3905:function(e,n,t){t.d(n,{Zo:function(){return h},kt:function(){return A}});var a=t(7294);function o(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function l(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function i(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?l(Object(t),!0).forEach((function(n){o(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function r(e,n){if(null==e)return{};var t,a,o=function(e,n){if(null==e)return{};var t,a,o={},l=Object.keys(e);for(a=0;a<l.length;a++)t=l[a],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)t=l[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var s=a.createContext({}),c=function(e){var n=a.useContext(s),t=n;return e&&(t="function"==typeof e?e(n):i(i({},n),e)),t},h=function(e){var n=c(e.components);return a.createElement(s.Provider,{value:n},e.children)},p={inlineCode:"code",wrapper:function(e){var n=e.children;return a.createElement(a.Fragment,{},n)}},u=a.forwardRef((function(e,n){var t=e.components,o=e.mdxType,l=e.originalType,s=e.parentName,h=r(e,["components","mdxType","originalType","parentName"]),u=c(t),A=o,m=u["".concat(s,".").concat(A)]||u[A]||p[A]||l;return t?a.createElement(m,i(i({ref:n},h),{},{components:t})):a.createElement(m,i({ref:n},h))}));function A(e,n){var t=arguments,o=n&&n.mdxType;if("string"==typeof e||o){var l=t.length,i=new Array(l);i[0]=u;var r={};for(var s in n)hasOwnProperty.call(n,s)&&(r[s]=n[s]);r.originalType=e,r.mdxType="string"==typeof e?e:o,i[1]=r;for(var c=2;c<l;c++)i[c]=t[c];return a.createElement.apply(null,i)}return a.createElement.apply(null,t)}u.displayName="MDXCreateElement"},626:function(e,n,t){t.r(n),t.d(n,{frontMatter:function(){return r},contentTitle:function(){return s},metadata:function(){return c},assets:function(){return h},toc:function(){return p},default:function(){return A}});var a=t(7462),o=t(3366),l=(t(7294),t(3905)),i=["components"],r={slug:"2023-01-24-javascript-browser-tutorial",title:"Using GHC's JavaScript Backend in the Browser",authors:["sylvain","doyougnu","luite","josh"],tags:["ghc","javascript","cross-compilation"]},s="Using GHC's JavaScript Backend in the Browser",c={permalink:"/2023-01-24-javascript-browser-tutorial",source:"@site/blog/2023-01-24-javascript-browser-tutorial.md",title:"Using GHC's JavaScript Backend in the Browser",description:"In a previous",date:"2023-01-24T00:00:00.000Z",formattedDate:"January 24, 2023",tags:[{label:"ghc",permalink:"/tags/ghc"},{label:"javascript",permalink:"/tags/javascript"},{label:"cross-compilation",permalink:"/tags/cross-compilation"}],readingTime:8.105,truncated:!1,authors:[{name:"Sylvain Henry",title:"Haskell DevX Engineer @ IOG",email:"sylvain.henry@iohk.io",key:"sylvain"},{name:"Jeffrey M. Young",title:"Haskell DevX Engineer @ IOG",url:"https://iog.io/en/",key:"doyougnu"},{name:"Luite Stegeman",title:"Haskell DevX Engineer @ IOG",email:"luite.stegeman@iohk.io",key:"luite"},{name:"Joshua Meredith",title:"Haskell DevX Engineer @ IOG",url:"https://iog.io/en/",key:"josh"}],frontMatter:{slug:"2023-01-24-javascript-browser-tutorial",title:"Using GHC's JavaScript Backend in the Browser",authors:["sylvain","doyougnu","luite","josh"],tags:["ghc","javascript","cross-compilation"]},nextItem:{title:"GHC DevX Update 2023-01-12",permalink:"/2023-01-12-ghc-update"}},h={authorsImageUrls:[void 0,void 0,void 0,void 0]},p=[{value:"Building GHC as a Cross Compiler to JavaScript",id:"building-ghc-as-a-cross-compiler-to-javascript",children:[{value:"Installing Dependencies",id:"installing-dependencies",children:[],level:3},{value:"Building GHC",id:"building-ghc",children:[],level:3}],level:2},{value:"First Haskell to JavaScript Program",id:"first-haskell-to-javascript-program",children:[],level:2},{value:"Haskell in the Browser",id:"haskell-in-the-browser",children:[],level:2},{value:"Conclusion",id:"conclusion",children:[],level:2}],u={toc:p};function A(e){var n=e.components,r=(0,o.Z)(e,i);return(0,l.kt)("wrapper",(0,a.Z)({},u,r,{components:n,mdxType:"MDXLayout"}),(0,l.kt)("p",null,"In a previous\n",(0,l.kt)("a",{parentName:"p",href:"https://engineering.iog.io/2022-12-13-ghc-js-backend-merged"},"post")," we\nintroduced GHC's new JavaScript backend, which allows the compilation of Haskell\ncode into JavaScript. This is the first tutorial in a new series about the\nJavaScript backend. In this post, we'll build GHC as\na JavaScript cross-compiler and run a trivial Haskell program in the browser."),(0,l.kt)("p",null,'We plan to write more of those blog post in the coming weeks and\nmonths as we add new features (e.g. support for "foreign exports" that will\nallow JavaScript code to call into Haskell code, support for Template Haskell,\netc.). For now it relies on our "insider" knowledge (e.g. how the FFI works)\nthat isn\'t well documented elsewhere. We do plan to add a chapter about the\nJavaScript backend in GHC\'s user guide, but for now your best chance is to look\nat GHCJS\'s documentation or at the source code.'),(0,l.kt)("p",null,"Please note: this is a technology preview of the in-development JavaScript backend\nfor GHC. Not all Haskell features are implemented, and bugs are expected. It is\ncurrently rather complicated for JavaScript code to call into Haskell code (\"foreign\nexports\" aren't implemented). GHC isn't a multi-target compiler yet, so a GHC executable\nbuilt for a native platform (Linux/x86-64, Windows/x86-64, Darwin/AArch64...) as currently distributed (via ghcup, Stack, binary distributions, etc.) won't be able to produce JavaScript. Official prebuilt binary distributions are likely to remain\nunavailable until GHC gains multi-target support - requiring the JavaScript backend\nto be built from source even after the backend matures.\nThat's why we start this post with the required steps to build yourself\na GHC compiler capable of producing JavaScript."),(0,l.kt)("h2",{id:"building-ghc-as-a-cross-compiler-to-javascript"},"Building GHC as a Cross Compiler to JavaScript"),(0,l.kt)("h3",{id:"installing-dependencies"},"Installing Dependencies"),(0,l.kt)("p",null,"First we need to install all the typical dependencies for GHC plus ",(0,l.kt)("inlineCode",{parentName:"p"},"Emscripten"),",\nso our final list is:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"GHC version 9.2 or later"),(0,l.kt)("li",{parentName:"ul"},"Cabal"),(0,l.kt)("li",{parentName:"ul"},"Alex"),(0,l.kt)("li",{parentName:"ul"},"Happy"),(0,l.kt)("li",{parentName:"ul"},"Emscripten to configure with"),(0,l.kt)("li",{parentName:"ul"},"(Optional) NodeJS to run JavaScript locally")),(0,l.kt)("p",null,"Let's take these in order, a standard GHC distribution with Cabal is needed so we can boot our new compiler.\nWe recommend using  GHCUP\n(",(0,l.kt)("a",{parentName:"p",href:"https://www.haskell.org/ghcup/install/"},"https://www.haskell.org/ghcup/install/"),"),\nor your system's package manager to install the this. "),(0,l.kt)("p",null,"We need Alex and Happy to build GHC, these can be installed through Cabal:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},"cabal install alex happy -j\n")),(0,l.kt)("p",null,"We need Emscripten during the ",(0,l.kt)("inlineCode",{parentName:"p"},"configure")," step of the build. ",(0,l.kt)("inlineCode",{parentName:"p"},"Emscripten")," should be available in most package managers, but you can also build and install it from source:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},"git clone https://github.com/emscripten-core/emsdk.git\ncd emsdk\n./emsdk install latest\n./emsdk activate latest\nsource ./emsdk_env.sh\n")),(0,l.kt)("p",null,"After installing Emscripten, ",(0,l.kt)("inlineCode",{parentName:"p"},"emconfigure")," should be available on your system\npath. Use ",(0,l.kt)("inlineCode",{parentName:"p"},"which emconfigure")," to check that it is on your ",(0,l.kt)("inlineCode",{parentName:"p"},"$PATH"),". If you built\nfrom source, then the output should point to a location within the emsdk git\nproject like so:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},"$ which emconfigure\n/path/to/emsdk/upstream/emscripten/emconfigure\n")),(0,l.kt)("p",null,"For more detailed installation instructions, see ",(0,l.kt)("a",{parentName:"p",href:"https://emscripten.org/docs/getting_started/downloads.html"},"https://emscripten.org/docs/getting_started/downloads.html"),". "),(0,l.kt)("p",null,"That's all we need to build GHC as a cross compiler. NodeJS can be installed via your system's package manager if you want to run the JavaScript programs locally. We'll assume it's in your ",(0,l.kt)("inlineCode",{parentName:"p"},"$PATH")," for the rest of the blog post."),(0,l.kt)("h3",{id:"building-ghc"},"Building GHC"),(0,l.kt)("p",null,"With all the dependencies installed, we can clone GHC HEAD and build the cross compiler:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},"git clone https://gitlab.haskell.org/ghc/ghc.git --recursive\n")),(0,l.kt)("p",null,"You should notice quite a few submodules being cloned as well as the main repo; expect this to take a while. Once this has completed, navigate to the ",(0,l.kt)("inlineCode",{parentName:"p"},"ghc")," directory and run the following configuration commands:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},"cd ghc\n./boot\nemconfigure ./configure --target=js-unknown-ghcjs\n")),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"emconfigure ./configure --target=js-unknown-ghcjs")," will finish by outputting a screen that looks like:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},"----------------------------------------------------------------------\nConfigure completed successfully.\n\n   Building GHC version  : 9.5.20221219\n          Git commit id  : 761c1f49f55afc9a9f290fafb48885c2033069ed\n\n   Build platform        : x86_64-unknown-linux\n   Host platform         : x86_64-unknown-linux\n   Target platform       : js-unknown-ghcjs\n\n   Bootstrapping using   : /home/josh/.ghcup/bin/ghc\n      which is version   : 9.4.2\n      with threaded RTS? : YES\n\n   Using (for bootstrapping) : gcc\n   Using clang               : /home/josh/emsdk/upstream/emscripten/emcc\n      which is version       : 15.0.0\n      linker options         :\n   Building a cross compiler : YES\n   Unregisterised            : NO\n   TablesNextToCode          : YES\n   Build GMP in tree         : NO\n   hs-cpp       : /home/josh/emsdk/upstream/emscripten/emcc\n   hs-cpp-flags : -E -undef -traditional -Wno-invalid-pp-token -Wno-unicode -Wno-trigraphs\n   ar           : /home/josh/emsdk/upstream/emscripten/emar\n   ld           : /home/josh/emsdk/upstream/emscripten/emcc\n   nm           : /home/josh/emsdk/upstream/bin/llvm-nm\n   objdump      : /usr/bin/objdump\n   ranlib       : /home/josh/emsdk/upstream/emscripten/emranlib\n   otool        : otool\n   install_name_tool : install_name_tool\n   windres      :\n   dllwrap      :\n   genlib       :\n   Happy        : /home/josh/.cabal/bin/happy (1.20.0)\n   Alex         : /home/josh/.cabal/bin/alex (3.2.7.1)\n   sphinx-build :\n   xelatex      :\n   makeinfo     :\n   git          : /usr/bin/git\n   cabal-install : /home/josh/.cabal/bin/cabal\n\n   Using LLVM tools\n      clang : clang\n      llc   : llc-14\n      opt   : opt-14\n\n   HsColour was not found; documentation will not contain source links\n\n   Tools to build Sphinx HTML documentation available: NO\n   Tools to build Sphinx PDF documentation available: NO\n   Tools to build Sphinx INFO documentation available: NO\n----------------------------------------------------------------------\n")),(0,l.kt)("p",null,"If everything is correct, you'll see that the ",(0,l.kt)("inlineCode",{parentName:"p"},"Target platform")," is set to\n",(0,l.kt)("inlineCode",{parentName:"p"},"js-unknown-ghcjs"),", and the build tools will be set to their\nEmscripten counterparts: ",(0,l.kt)("inlineCode",{parentName:"p"},"ar")," becomes ",(0,l.kt)("inlineCode",{parentName:"p"},"emar"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"nm")," becomes ",(0,l.kt)("inlineCode",{parentName:"p"},"llvm-nm"),", etc."),(0,l.kt)("p",null,"Finally, to build GHC:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},"./hadrian/build --bignum=native -j --docs=none\n")),(0,l.kt)("p",null,"Expect this to take around a half hour or longer. If all goes well you should see:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},"/--------------------------------------------------------\\\n| Successfully built library 'ghc' (Stage1, way p).      |\n| Library: _build/stage1/compiler/build/libHSghc-9.5_p.a |\n| Library synopsis: The GHC API.                         |\n\\--------------------------------------------------------/\n| Copy package 'ghc'\n# cabal-copy (for _build/stage1/lib/package.conf.d/ghc-9.5.conf)\n| Run GhcPkg Recache Stage1: none => none\n| Copy file: _build/stage0/bin/js-unknown-ghcjs-ghc => _build/stage1/bin/js-unknown-ghcjs-ghc\nBuild completed in 1h00m\n")),(0,l.kt)("p",null,"Take note of ",(0,l.kt)("inlineCode",{parentName:"p"},"_build/stage1/bin/js-unknown-ghcjs-ghc")," path. This is the GHC executable that we'll use to compile to JavaScript. To make life easier on ourselves we can alias it:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},"alias ghc-js=`pwd`/_build/stage1/bin/js-unknown-ghcjs-ghc\n")),(0,l.kt)("h2",{id:"first-haskell-to-javascript-program"},"First Haskell to JavaScript Program"),(0,l.kt)("p",null,'Now that we have a version of GHC that can output JavaScript, let\'s compile a Haskell program and run it with NodeJS. Make a file named "HelloJS.hs", with the following contents:'),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-haskell"},'-- HelloJS.hs\nmodule Main where\n\nmain :: IO ()\nmain = putStrLn "Hello, JavaScript!"\n')),(0,l.kt)("p",null,"Now we can compile it using the alias we defined earlier:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},"ghc-js HelloJS.hs\n")),(0,l.kt)("p",null,"You should see the following output, and a ",(0,l.kt)("inlineCode",{parentName:"p"},"HelloJS")," executable."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},"[1 of 2] Compiling Main             ( HelloJS.hs, HelloJS.o )\n[2 of 2] Linking HelloJS.jsexe\n")),(0,l.kt)("p",null,"If you have NodeJS is on your ",(0,l.kt)("inlineCode",{parentName:"p"},"Path"),", then this executable can be run just like any other command line program:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},"./HelloJS\nHello, JavaScript!\n")),(0,l.kt)("p",null,"Notice that a directory called ",(0,l.kt)("inlineCode",{parentName:"p"},"HelloJS.jsexe")," was created. This directory\ncontains all the final JavaScript code, including a file named ",(0,l.kt)("inlineCode",{parentName:"p"},"all.js"),", and a\nminimal ",(0,l.kt)("inlineCode",{parentName:"p"},"index.html")," HTML file that wraps ",(0,l.kt)("inlineCode",{parentName:"p"},"all.js"),". For now, we'll only care\nabout ",(0,l.kt)("inlineCode",{parentName:"p"},"all.js")," and return to ",(0,l.kt)("inlineCode",{parentName:"p"},"index.html")," later. ",(0,l.kt)("inlineCode",{parentName:"p"},"all.js")," ",(0,l.kt)("em",{parentName:"p"},"is")," the payload of our\n",(0,l.kt)("inlineCode",{parentName:"p"},"HelloJS")," exectuable. The executable is simply a copy of ",(0,l.kt)("inlineCode",{parentName:"p"},"all.js"),", with a call\nto ",(0,l.kt)("inlineCode",{parentName:"p"},"node")," added to the top. We could have equivalently run our program with:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},"node HelloJS.jsexe/all.js\n")),(0,l.kt)("h2",{id:"haskell-in-the-browser"},"Haskell in the Browser"),(0,l.kt)("p",null,"We saw in the previous example that GHC's JavaScript backend allows us to write\nHaskell and run the output JavaScript with NodeJS. This produces a portable\nexecutable, but otherwise doesn't enable anything we couldn't do before; GHC can\nalready compile Haskell to run on most platforms! So let's do something novel,\nand run Haskell in the browser."),(0,l.kt)("p",null,"In this example, we'll use Haskell to draw a simple SVG circle to our browser window. Put the following code in a file named ",(0,l.kt)("inlineCode",{parentName:"p"},"HelloBrowser.hs"),":"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-haskell"},'-- HelloBrowser.hs\nmodule Main where\n\nimport Foreign.C.String\n\nforeign import javascript "((arr,offset) => document.body.innerHTML = h$decodeUtf8z(arr,offset))"\n  setInnerHtml :: CString -> IO ()\n\ncircle :: String\ncircle = "<svg width=300 height=300><circle cx=50% cy=50% r=50%></circle></svg>"\n\nmain :: IO ()\nmain = withCString circle setInnerHtml\n')),(0,l.kt)("p",null,"Notice that we've encountered a Haskell feature that's only available in the\nJavaScript backend: JavaScript foreign imports. This feature allows our Haskell\nprogram to call JavaScript functions. In our example we use this feature to call\na JavaScript ",(0,l.kt)("a",{parentName:"p",href:"https://262.ecma-international.org/13.0/#prod-ArrowFunction"},"arrow\nfunction")," that\nupdates the ",(0,l.kt)("inlineCode",{parentName:"p"},"body")," of the page with our HTML snippet containing a drawing of a\ncircle. Alternatively, we could have set the foreign import to a function symbol\nlike so:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},'foreign import javascript "setInnerHTML"\n  setInnerHtml :: CString -> IO ()\n')),(0,l.kt)("p",null,"where ",(0,l.kt)("inlineCode",{parentName:"p"},"setInnerHTML")," is defined in a ",(0,l.kt)("inlineCode",{parentName:"p"},".js")," file that is then loaded\nby passing the JavaScript file to GHC along with the Haskell sources."),(0,l.kt)("p",null,"Next, we can compile our program to JavaScript, again with our built GHC:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},"ghc-js HelloBrowser.hs\n")),(0,l.kt)("p",null,"Or ",(0,l.kt)("inlineCode",{parentName:"p"},"ghc-js HelloBrowser.hs foo.js")," if ",(0,l.kt)("inlineCode",{parentName:"p"},"setInnerHTML")," is defined in ",(0,l.kt)("inlineCode",{parentName:"p"},"foo.js"),"."),(0,l.kt)("p",null,"Recall the ",(0,l.kt)("inlineCode",{parentName:"p"},"index.html")," file inside the ",(0,l.kt)("inlineCode",{parentName:"p"},"HelloBrowser.jsexe")," directory. This HTML\nfile has our compiled JavaScript already included, so if you open it in your\nbrowser, you'll find it loads our SVG circle in the top-left of the page!"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"Example webpage screenshot",src:t(9290).Z,width:"600",height:"600"})),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"index.html")," contains the minimal HTML code required to load the generated JavaScript code. It simply loads the ",(0,l.kt)("inlineCode",{parentName:"p"},"all.js")," file mentioned above with the following ",(0,l.kt)("inlineCode",{parentName:"p"},"script")," tag that you can reuse in your own HTML files:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-html"},'<script language="javascript" src="all.js" defer><\/script>\n')),(0,l.kt)("p",null,"As the JS backend still lacks support for some FFI features (foreign exports, foreign \"wrapper\" imports...), JavaScript codes can't easily interact with Haskell codes. It reduces the amount of advanced/interesting examples we can present for now. We'll publish new blog posts illustrating these features when they will be implemented."),(0,l.kt)("h2",{id:"conclusion"},"Conclusion"),(0,l.kt)("p",null,"In this post, we've seen how to build a first Haskell program to run in the browser using a preview of GHC's in-development JavaScript backend. This program used \"foreign imports\" to make a JavaScript function available within the Haskell code, which allows a limited interaction between Haskell and the browser. We also saw the structure of the outputs of the JavaScript backend, in the ",(0,l.kt)("inlineCode",{parentName:"p"},".jsexe")," directory, and how this allows our Haskell program to be invoked by a custom HTML wrapper. This was all enabled by building a version of GHC from source, with the build process having been configured with Emscripten to produce a GHC exectuable that targets JavaScript."))}A.isMDXComponent=!0},9290:function(e,n){n.Z="data:image/png;base64,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JoQAlCaEAJQmhACUJoQAlCaEAJQmhACUJoQAlCaEAJQmhACUJoQAlCaEAJQmhACUJoQAlCaEAJQmhACUJoQAlCaEAJQmhACUJoQAlCaEAJQmhACUJoQAlCaEAJQmhACUJoQAlCaEAJQmhACUJoQAlCaEAJQmhACUJoQAlCaEAJQmhACUJoQAlCaEAJQmhACUJoQAlCaEAJQmhACUJoQAlCaEAJQmhACUJoQAlCaEAJQmhACUJoQAlCaEAJQmhACUJoQAlCaEAJQmhACUJoQAlCaEAJQmhACUJoQAlCaEAJQmhACUJoQAlCaEAJQmhACUJoQAlCaEAJQmhACUJoQAlCaEAJQmhACUJoQAlCaEAJQmhACUJoQAlCaEAJQmhACUJoQAlCaEAJQmhACUJoQAlCaEAJQmhACUJoQAlCaEAJQmhACUJoQAlCaEAJQmhACUJoQAlCaEAJQmhACUJoQAlCaEAJQmhACUJoQAlCaEAJQmhACUJoQAlCaEAJQmhACUJoQAlCaEAJQmhACUJoQAlCaEAJQmhACUJoQAlCaEAJQmhACUJoQAlCaEAJQmhACUJoQAlCaEAJQmhACUJoQAlCaEAJQmhACUJoQAlCaEAJQmhACUJoQAlCaEAJQmhACUJoQAlCaEAJQmhACUJoQAlCaEAJQmhACUJoQAlCaEAJQmhACUJoQAlCaEAJQmhACUJoQAlCaEAJQmhACUJoQAlCaEAJQmhACUJoQAlCaEAJQmhACUJoQAlCaEAJQmhACUJoQAlCaEAJQmhAAU9u9//19DGrzCtvYzlwAAAABJRU5ErkJggg=="}}]);