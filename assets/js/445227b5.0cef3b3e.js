"use strict";(globalThis.webpackChunkengineering_iog_io=globalThis.webpackChunkengineering_iog_io||[]).push([[7228],{4101:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>s,contentTitle:()=>l,default:()=>g,frontMatter:()=>i,metadata:()=>o,toc:()=>p});var r=a(8168),n=(a(6540),a(5680));const i={slug:"2025-02-20-ghc-update",title:"IOG GHC Update #42",authors:["sylvain","luite"],tags:["ghc","ghc-update"]},l=void 0,o={permalink:"/2025-02-20-ghc-update",editUrl:"https://github.com/input-output-hk/engineering/tree/master/blog/2025-02-20-ghc-update-42.md",source:"@site/blog/2025-02-20-ghc-update-42.md",title:"IOG GHC Update #42",description:"Triweekly update from the GHC DevX team at IOG.",date:"2025-02-20T00:00:00.000Z",formattedDate:"February 20, 2025",tags:[{label:"ghc",permalink:"/tags/ghc"},{label:"ghc-update",permalink:"/tags/ghc-update"}],readingTime:.935,hasTruncateMarker:!0,authors:[{name:"Sylvain Henry",title:"Haskell DevX Engineer @ IOG",email:"sylvain.henry@iohk.io",key:"sylvain"},{name:"Luite Stegeman",title:"Haskell DevX Engineer @ IOG",email:"luite.stegeman@iohk.io",key:"luite"}],frontMatter:{slug:"2025-02-20-ghc-update",title:"IOG GHC Update #42",authors:["sylvain","luite"],tags:["ghc","ghc-update"]},prevItem:{title:"IOG GHC Update #43",permalink:"/2025-03-13-ghc-update"},nextItem:{title:"IOG GHC Update #41",permalink:"/2025-01-30-ghc-update"}},s={authorsImageUrls:[void 0,void 0]},p=[],u={toc:p},c="wrapper";function g({components:e,...t}){return(0,n.yg)(c,(0,r.A)({},u,t,{components:e,mdxType:"MDXLayout"}),(0,n.yg)("p",null,"Triweekly update from the GHC DevX team at IOG."),(0,n.yg)("p",null,"Previous updates can be found ",(0,n.yg)("a",{parentName:"p",href:"https://engineering.iog.io/tags/ghc-update"},"here"),"."),(0,n.yg)("p",null,"Sylvain: worked on making GHC built with cabal-install pass the testsuite. See ",(0,n.yg)("a",{parentName:"p",href:"https://github.com/stable-haskell/ghc/pull/3"},"https://github.com/stable-haskell/ghc/pull/3")," We're now close to pass the testsuite."),(0,n.yg)("p",null,"Luite: ",(0,n.yg)("a",{parentName:"p",href:"https://mail.haskell.org/pipermail/ghc-devs/2025-February/021939.html"},"Announced")," ",(0,n.yg)("a",{parentName:"p",href:"https://downloads.haskell.org/ghc/9.6.7-rc2/"},"GHC 9.6.7 rc2")," with a small fix to make Haskell Language Server work again. It's also available on the ",(0,n.yg)("a",{parentName:"p",href:"https://www.haskell.org/ghcup/guide/#metadata"},"ghcup prereleases")," channel. Please give this release a try and open a ticket if you find anything amiss!"),(0,n.yg)("p",null,"Luite: Implemented efficient packing of smaller fields of unboxed sums and using less than a word for the tag. This saves space if you ",(0,n.yg)("inlineCode",{parentName:"p"},"{-# UNPACK #-}")," things in your data constructors. See ",(0,n.yg)("a",{parentName:"p",href:"https://gitlab.haskell.org/ghc/ghc/-/merge_requests/13926"},"GHC!13926"),"."),(0,n.yg)("p",null,"Luite: Looked into using ",(0,n.yg)("a",{parentName:"p",href:"https://justine.lol/cosmopolitan/index.html"},"cosmopolitan libc")," to see if we can make a GHC cross compiler that produces multi-arch/os binaries (continuing earlier work by Sylvain). We can produce basic APE binaries that run on Linux already, but it will require a lot of work disabling system dependent code from Haskell libraries and the GHC runtime system to make them actually run on multiple operating systems. It's not yet clear if we will continue down this path."))}g.isMDXComponent=!0},5680:(e,t,a)=>{a.d(t,{xA:()=>u,yg:()=>m});var r=a(6540);function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}function l(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach(function(t){n(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function o(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},i=Object.keys(e);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var s=r.createContext({}),p=function(e){var t=r.useContext(s),a=t;return e&&(a="function"==typeof e?e(t):l(l({},t),e)),a},u=function(e){var t=p(e.components);return r.createElement(s.Provider,{value:t},e.children)},c="mdxType",g={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},h=r.forwardRef(function(e,t){var a=e.components,n=e.mdxType,i=e.originalType,s=e.parentName,u=o(e,["components","mdxType","originalType","parentName"]),c=p(a),h=n,m=c["".concat(s,".").concat(h)]||c[h]||g[h]||i;return a?r.createElement(m,l(l({ref:t},u),{},{components:a})):r.createElement(m,l({ref:t},u))});function m(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var i=a.length,l=new Array(i);l[0]=h;var o={};for(var s in t)hasOwnProperty.call(t,s)&&(o[s]=t[s]);o.originalType=e,o[c]="string"==typeof e?e:n,l[1]=o;for(var p=2;p<i;p++)l[p]=a[p];return r.createElement.apply(null,l)}return r.createElement.apply(null,a)}h.displayName="MDXCreateElement"}}]);