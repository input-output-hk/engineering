"use strict";(globalThis.webpackChunkengineering_iog_io=globalThis.webpackChunkengineering_iog_io||[]).push([[1937],{4211:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>s,contentTitle:()=>l,default:()=>d,frontMatter:()=>i,metadata:()=>o,toc:()=>u});var n=r(8168),a=(r(6540),r(5680));const i={slug:"2022-02-01-haskell-nix-january-update",title:"haskell.nix January Update",authors:[],tags:["nix"],custom_edit_url:null},l="**What Happened in Haskell.Nix?**",o={permalink:"/2022-02-01-haskell-nix-january-update",editUrl:"https://github.com/input-output-hk/engineering/tree/master/blog/2022-02-01-haskell-nix-january-update-vNau7aVn4Q-import.md",source:"@site/blog/2022-02-01-haskell-nix-january-update-vNau7aVn4Q-import.md",title:"haskell.nix January Update",description:"January 2022",date:"2022-02-01T00:00:00.000Z",formattedDate:"February 1, 2022",tags:[{label:"nix",permalink:"/tags/nix"}],readingTime:1.215,hasTruncateMarker:!1,authors:[],frontMatter:{slug:"2022-02-01-haskell-nix-january-update",title:"haskell.nix January Update",authors:[],tags:["nix"],custom_edit_url:null},prevItem:{title:"GHC January 2022 update",permalink:"/2022-02-01-ghc-january-2022-update"}},s={authorsImageUrls:[]},u=[{value:"<strong>January 2022</strong>",id:"january-2022",level:2},{value:"Changes",id:"changes",level:4},{value:"Version Updates",id:"version-updates",level:4},{value:"Bug fixes",id:"bug-fixes",level:4}],p={toc:u},c="wrapper";function d({components:e,...t}){return(0,a.yg)(c,(0,n.A)({},p,t,{components:e,mdxType:"MDXLayout"}),(0,a.yg)("h2",{id:"january-2022"},(0,a.yg)("strong",{parentName:"h2"},"January 2022")),(0,a.yg)("p",null,"This month we merged some very significant improvements to the support for compiling for Android and iOS based AArch64 devices.\xa0 When the build system is also AArch64 template haskell can often be run locally.\xa0 This will make targeting mobile devices from AArch64 builders much easier."),(0,a.yg)("p",null,"A long running branch containing bug fixes for cross compilation to JavaScript with GHCJS was merged.\xa0 One nice feature included is better support for adding bindings to C code compiled with emscripten.\xa0 In some cases it can be as easy as adding a single JavaScript file to the package with wrappers for the C functions."),(0,a.yg)("h4",{id:"changes"},"Changes"),(0,a.yg)("ul",null,(0,a.yg)("li",{parentName:"ul"},"Much improved AArch64 support including Template Haskell (#1316)"),(0,a.yg)("li",{parentName:"ul"},"Improved GHCJS and support for calling C code compiled with emscripten (#1311)"),(0,a.yg)("li",{parentName:"ul"},"The environment variables LANG and LOCALE_ARCHIVE are no longer set in shells allowing the users prefered settings to persist (#1341)."),(0,a.yg)("li",{parentName:"ul"},"source-repo-override argument added for cabal projects to allow the location of source-repository-package packages to be replaced (#1354)")),(0,a.yg)("h4",{id:"version-updates"},"Version Updates"),(0,a.yg)("ul",null,(0,a.yg)("li",{parentName:"ul"},"GHC 9.0.2 was added to the available GHC versions (#1338)"),(0,a.yg)("li",{parentName:"ul"},"The nixpkgs pins for 21.05, 21.11 and unstable were all updated (#1334)."),(0,a.yg)("li",{parentName:"ul"},"Remaining uses of cabal 3.4 were updated to 3.6.2 (#1328)")),(0,a.yg)("h4",{id:"bug-fixes"},"Bug fixes"),(0,a.yg)("ul",null,(0,a.yg)("li",{parentName:"ul"},"Dwarf build of ghc 9.2.1 now skipped on hydra to work around 4GB hydra limit (#1333)"),(0,a.yg)("li",{parentName:"ul"},"Removed use of propagatedBuildInputs in ghc derivation (#1318)."),(0,a.yg)("li",{parentName:"ul"},"Caching of the check-hydra CI script was fixed (#1340)")))}d.isMDXComponent=!0},5680:(e,t,r)=>{r.d(t,{xA:()=>p,yg:()=>m});var n=r(6540);function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach(function(t){a(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function o(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var s=n.createContext({}),u=function(e){var t=n.useContext(s),r=t;return e&&(r="function"==typeof e?e(t):l(l({},t),e)),r},p=function(e){var t=u(e.components);return n.createElement(s.Provider,{value:t},e.children)},c="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},g=n.forwardRef(function(e,t){var r=e.components,a=e.mdxType,i=e.originalType,s=e.parentName,p=o(e,["components","mdxType","originalType","parentName"]),c=u(r),g=a,m=c["".concat(s,".").concat(g)]||c[g]||d[g]||i;return r?n.createElement(m,l(l({ref:t},p),{},{components:r})):n.createElement(m,l({ref:t},p))});function m(e,t){var r=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var i=r.length,l=new Array(i);l[0]=g;var o={};for(var s in t)hasOwnProperty.call(t,s)&&(o[s]=t[s]);o.originalType=e,o[c]="string"==typeof e?e:a,l[1]=o;for(var u=2;u<i;u++)l[u]=r[u];return n.createElement.apply(null,l)}return n.createElement.apply(null,r)}g.displayName="MDXCreateElement"}}]);