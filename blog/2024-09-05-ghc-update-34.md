---
slug: 2024-09-05-ghc-update
title: "IOG GHC Update #34"
authors: [sylvain,doyougnu,luite]
tags: [ghc,ghc-update]
---

Triweekly update from the GHC DevX team at IOG.

<!-- truncate -->

Previous updates can be found [here](https://engineering.iog.io/tags/ghc-update).

## High-level Summary


## Details

Sylvain: `ghc-up` [failed to build](https://github.com/haskus/packages/issues/62) with the latest release of my `haskus-utils-variant` package because I forgot to make a new release of one of its dependencies (`haskus-utils-data`). Managing several packages like this is a pain so I've released a new [`variant` package](https://hackage.haskell.org/package/variant) which has minimal dependencies. I've implemented compatibility and added CI for GHC releases from 8.10 to 9.10 so it has become a much more reliable package to depend on.

Sylvain: GHC's JS backend was failing when compiling `statistics` package [GHC#25177](https://gitlab.haskell.org/ghc/ghc/-/issues/25177). This was due to the case of rubbish-literals not be properly handled in the generation of statically allocated literals. Fixing it was easy but making a reproducing test case was more involved. See [GHC!13151](https://gitlab.haskell.org/ghc/ghc/-/merge_requests/13151).
