---
slug: 2024-11-28-ghc-update
title: "IOG GHC Update #38"
authors: [sylvain,doyougnu,luite]
tags: [ghc,ghc-update]
---

Triweekly update from the GHC DevX team at IOG.

<!-- truncate -->

Previous updates can be found [here](https://engineering.iog.io/tags/ghc-update).

## High-level Summary


## Details

### Toolchain

Sylvain: investigated how to build GHC differently (e.g. without Hadrian). Work still in progress.

Sylvain: experimented with using HPP instead of the C toolchain as a CPP preprocessor to build GHC. I had to implement some features and to fix a few bugs to support CPP as used in the RTS:
- Add support for macros with empty argument list: [HPP#7](https://github.com/acowley/hpp/pull/7)
- Fix removal of C comments (otherwise we tried to substitute macros in them): [HPP#8](https://github.com/acowley/hpp/pull/8)
- Add support for variadic macros: [HPP#10](https://github.com/acowley/hpp/pull/10)
- Fix line counting for `__LINE__` support and `#line` token insertion: [HPP#6](https://github.com/acowley/hpp/pull/6), [HPP#11](https://github.com/acowley/hpp/pull/11) and [HPP#12](https://github.com/acowley/hpp/pull/12)

Shoutout to HPP's author and maintainer Anthony Cowley who has been very responsive.

### Maintenance

Sylvain: reviewed GHC patches about the JS backend
