---
slug: 2023-09-14-ghc-update
title: "IOG GHC Update #17"
authors: [sylvain,doyougnu,luite,josh]
tags: [ghc,ghc-update]
---

Triweekly update from the GHC DevX team at IOG.

<!-- truncate -->

Previous updates can be found [here](https://engineering.iog.io/tags/ghc-update).

## ICFP

Most of the team was at ICFP 2023 last week!

Jeff presented at Funarch workshop. TODO fill some details + link to paper

TODO: other things to mention? Tooling?

## GHC build

Hamish tried to build GHC head with haskell.nix and faced an issue with conflicting rules: two source files (`Stack.cmm` and `Stack.c`) would produce the same output object code (`Stack.o`).
This isn't an issue for GHC which uses its adhoc build system which produces `cmm/Stack.o` and `c/Stack.o` in this case. But it is for Haskell.nix and cabal-install.
See [GHC#23898](https://gitlab.haskell.org/ghc/ghc/-/issues/23898) and [GHC!11160](https://gitlab.haskell.org/ghc/ghc/-/merge_requests/11160) for Sylvain's fix.

## JS backend

Sylvain: updated the [wiki
page](https://gitlab.haskell.org/ghc/ghc/-/wikis/javascript-backend/bug_triage)
about GHC tests still failing with the JS backend. Some failures were due to
issues with the tests themselves (Cabal not finding the right `ghc-pkg` program
to use) and have been fixed in
[GHC!11193](https://gitlab.haskell.org/ghc/ghc/-/merge_requests/11193).
